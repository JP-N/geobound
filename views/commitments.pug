extends layout

block content
  head
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')


  body
    .container.text-center
      if isAuthenticated
        h1.commitBodyText.rounded-bg Welcome back! Let's tackle today.
        p.rounded-bg Click on a commitment to view it, or add a new one.
        .list-group.mt-4.w-50.mx-auto
          if userCommitments
            .list-group.myBlur
              a.list-group-item.list-group-item-action.border.border-light.list-group-item-warning(data-bs-toggle='modal' data-bs-target='#addCommitmentModal') Add a new commitment
              each commitItem in userCommitments
                .list-group-item.dark-green.list-group-item-success.list-group-item-action.border.border-light.d-flex.justify-content-between.align-items-center(type='button' data-commitment=JSON.stringify(commitItem))
                  span= commitItem.commitment_name
                  button.btn.btn-sm.btn-success(type='button') Check In

    #myModal.modal.fade(tabindex='-1')
      .modal-dialog
        .modal-content
          .modal-header
            h5.modal-title Commitment Details
            button.close(type='button' data-dismiss='modal' aria-label='Close')
              span(aria-hidden='true') &times;
          .modal-body
            p#modalContent Commitment information will appear here.

    #addCommitmentModal.modal.fade(tabindex='-1' aria-labelledby='addCommitmentLabel' aria-hidden='true')
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h5.modal-title#addCommitmentLabel Please place a marker on the map.
            button.close(type='button' data-dismiss='modal' aria-label='Close')
              span(aria-hidden='true') &times;
          .modal-body
            // Map container
            #map(style='height: 400px;')
            // Form for commitment name
            form#addCommitmentForm
              .mb-3.pt-3
                input#commitmentName.form-control(type='text', name='commitment_name', placeholder='Enter commitment name')
          .modal-footer
            button#saveTest.btn.btn-success.save-details(type='button' name='save-details' data-toggle='modal' data-target='#myModalList' data-dismiss='modal') Save

  script(src="scripts/commitments.js")
  script(src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmYnsI5F25IwP3z45HwMfn0N_xSUuGa6A&callback=initMap")









